<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Randomizer de Mapa</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f0f0f0;
        }
        input {
            padding: 10px;
            width: 300px;
            margin-bottom: 10px;
        }
        button {
            padding: 10px 15px;
        }
        .output {
            margin-top: 20px;
            white-space: pre;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <h1>Randomizer de Mapa</h1>
    <label for="seedInput">Insira uma seed:</label>
    <input type="text" id="seedInput" placeholder="Ex: 2, 3B, 1A1">
    <button onclick="gerarMapa()">Gerar Mapa</button>
    
    <div class="output" id="output"></div>

    <script>
        // Fun√ß√£o para gerar o mapa baseado na seed
        function gerarMapa() {
            const seed = document.getElementById('seedInput').value;
            if (!seed) return; // N√£o faz nada se a seed estiver vazia

            // Configura√ß√µes de gera√ß√£o
            let output = '';
            const random = seedRandom(seed); // Inicializa a fun√ß√£o de randomiza√ß√£o baseada na seed
            const largura = parseInt(seed[0]) || 5; // Largura padr√£o de 5 se a seed n√£o fornecer
            const profundidade = (seed[1] ? seed[1].charCodeAt(0) - 'A'.charCodeAt(0) + 1 : 3); // Profundidade padr√£o de 3

            // Gera a estrutura
            for (let j = 0; j < profundidade; j++) {
                for (let i = 0; i < largura; i++) {
                    output += random() < 0.5 ? 'üü©' : 'üü´'; // Gera blocos aleat√≥rios
                }
                output += '\n';
            }

            // Exibe a estrutura
            document.getElementById('output').textContent = output;

            // Armazenar a seed e a estrutura no localStorage
            localStorage.setItem('seed', seed);
            localStorage.setItem('mapa', output);
        }

        // Fun√ß√£o para gerar uma fun√ß√£o de randomiza√ß√£o baseada em uma seed
        function seedRandom(seed) {
            let m = 0x80000000, // 2^31
                a = 1103515245,
                c = 12345;

            let hash = 0;
            for (let i = 0; i < seed.length; i++) {
                hash = (hash * 31 + seed.charCodeAt(i)) % m;
            }

            return function () {
                hash = (a * hash + c) % m;
                return hash / m;
            };
        }

        // Fun√ß√£o para carregar a estrutura do localStorage
        function carregarMapa() {
            const seed = localStorage.getItem('seed');
            const mapa = localStorage.getItem('mapa');
            if (seed && mapa) {
                document.getElementById('seedInput').value = seed;
                document.getElementById('output').textContent = mapa;
            }
        }

        // Carregar o mapa ao abrir a p√°gina
        window.onload = carregarMapa;
    </script>
</body>
</html>
